<!DOCTYPE html>
<html lang="en" ng-app="standBuilding">
<head>
    <meta charset="UTF-8">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fabric.js/1.7.6/fabric.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.6.1/angular.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ngDraggable/0.1.11/ngDraggable.min.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="main.css">

    <script src="all.js"></script>
    <script src="/app.js"></script>
    <title>Система построения сенда</title>
</head>
<body ng-controller="mainCtrl">
<div class=" container-fluid main_board">
    <div class="row">
        <div class="col-md-4 col-xs-4 col-sm-4 col-lg-4">
            <div class="panel panel-default">
                <div class="panel-heading">Панель управления стендом</div>
                <div class="panel-body">
                    <div class="btn-group ">
                        <button class="btn btn-primary" ng-click="newStand()" ng-disabled="isLoaded">Новый</button>
                        <button class="btn btn-primary">Загрузить</button>
                        <button class="btn btn-primary" ng-disabled="isNewStand || !isLoaded">Сохранить</button>
                        <button class="btn btn-primary" ng-click="clearCanvas()" ng-disabled="!isLoaded">Очистить
                        </button>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-4 col-xs-4 col-sm-4 col-lg-4">
            <div class="panel panel-default" ng-if="isLoaded">
                <div class="panel-heading">Панель управления холстом</div>
                <div class="panel-body">
                    <img class="holst-button" src="../img/interface/rotate-left.png" ng-click="rotateToLeft()">
                    <img class="holst-button" src="../img/interface/rotate-right.png" ng-click="rotateToRight()">

                    <div style="display: inline-block">
                        <img class="holst-button" src="../img/interface/zoom-out.png">
                    </div>
                    <div style="display: inline-block">
                        <input type='range' step='.1' max='2' min='0' ng-model="data.zoomrange"  ng-change="setZoom(data.zoomrange)">
                    </div>
                    <div style="display: inline-block">
                        <img class="holst-button" src="../img/interface/zoom-in.png">
                    </div>
                    <button class="btn btn-danger" ng-click="resetZoom()">Set default zoom</button>



                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-md-3 col-lg-3 col-sm-3 col-xs-3">
            <div class="panel panel-default" ng-show="isNewStand">
                <div class="panel-body">
                    <div>
                        Размеры стенда
                        <form class="form-inline">
                            <div class="form-group">
                                <input style="width: 80px;" type="number" ng-model="newStand.hgt" class="form-control"
                                       id="length">
                            </div>
                            X
                            <div class="form-group">
                                <input style="width: 80px;" type="number" ng-model="newStand.wdt" class="form-control"
                                       id="width">
                            </div>
                            Метров
                        </form>
                    </div>
                    <div>
                        <div class="radio">
                            <img src="../img/interface/1.png">
                            <label><input type="radio" ng-model="newStand.type" value="1"
                                          name="optradio">Линейный</label>
                        </div>
                        <div class="radio">
                            <img src="../img/interface/2.png">
                            <label><input type="radio" ng-model="newStand.type" value="2"
                                          name="optradio">Угловой</label>
                        </div>
                        <div class="radio">
                            <img src="../img/interface/3.png">
                            <label><input type="radio" ng-model="newStand.type" value="3" name="optradio">Открытый с
                                трех сторон</label>
                        </div>
                        <div class="radio">
                            <img src="../img/interface/4.png">
                            <label><input type="radio" ng-model="newStand.type" value="4" name="optradio">Остров</label>
                        </div>
                    </div>


                    <button class="btn btn-success" ng-disabled="checkStandParams()" ng-click="newStandConfirm()">
                        Создать
                    </button>
                    <button class="btn btn-danger" ng-click="newStandCancel()">Отменить</button>
                </div>
            </div>
            <div class="panel panel-default" ng-if="isLoaded">
                <div class="panel-heading">Список обьектов</div>

                <div class="panel panel-default item">
                    <div class="panel-body">
                        <div class="form-group">
                            <label for="search">Поиск:</label>
                            <input type="text" class="form-control" id="search" ng-model="search">
                        </div>
                    </div>
                </div>
                <div class="panel-body item-box">
                    <div class="panel panel-default item" ng-repeat="item in items | itemFilter:this" ng-drag="true"
                         ng-drag-data="{item}" data-allow-transform="false">
                        <div class="panel-body">
                            <div class="media">
                                <div class="media-left">
                                    <a>
                                        <img class="media-object item-image" ng-src="{{item.image}}" alt="...">
                                    </a>
                                </div>
                                <div class="media-body">
                                    <h4 class="media-heading">{{item.name}}</h4>
                                    {{item.category}}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-6 col-lg-6 col-sm-6 col-xs-6">
            <div class="panel panel-default" id="canvaspanel">
                <div class="panel-body" ng-drop="true" ng-drop-success="onDropComplete($data,$event)">
                    <div style="width:{{startPosition.width}}px; height:{{startPosition.height}}px; overflow:auto;">
                        <canvas id="c"></canvas>
                        <div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-3 col-lg-3 col-sm-3 col-xs-3">
            <div class="panel panel-default" ng-if="isObjectSelected">
                <div class="panel-heading"> Свойства обьекта</div>
                <div class="panel-body"></div>
            </div>
            <div class="panel panel-default" ng-if="isLoaded">
                <div class="panel-heading"> Список выбраных обьекта</div>
                <div class="panel-body"></div>
            </div>
        </div>


    </div>
</div>
</body>
</html>